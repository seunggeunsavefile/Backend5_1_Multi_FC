<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.multi.backend5_1_multi_fc.match.mapper.StadiumMapper">

    <resultMap id="stadiumMap" type="com.multi.backend5_1_multi_fc.match.dto.StadiumSummaryRes">
        <id property="stadiumId" column="stadium_id"/>
        <result property="name" column="name"/>
        <result property="address" column="address"/>
        <result property="latitude" column="latitude"/>
        <result property="longitude" column="longitude"/>
    </resultMap>

    <select id="findAll" resultMap="stadiumMap">
        SELECT *
        FROM Stadium
        ORDER BY stadium_id DESC
    </select>

    <insert id="insertFromKakao"
            parameterType="com.multi.backend5_1_multi_fc.match.domain.Stadium"
            useGeneratedKeys="true"
            keyProperty="stadiumId">
        INSERT INTO Stadium(name, address, latitude, longitude)
        VALUES (#{name}, #{address}, #{latitude}, #{longitude})
    </insert>

    <select id="countByName" resultType="int">
        SELECT COUNT(*)
        FROM Stadium
        WHERE name = #{name}
    </select>

    <!-- ðŸ”¥ ë™ì¼ ì´ë¦„ì´ ì´ë¯¸ ì¡´ìž¬í•  ê²½ìš° DBì—ì„œ stadiumId í¬í•¨ ì „ì²´ ì¡°íšŒ -->
    <select id="findByName" resultType="com.multi.backend5_1_multi_fc.match.domain.Stadium">
        SELECT stadium_id, name, address, latitude, longitude
        FROM Stadium
        WHERE name = #{name}
            LIMIT 1
    </select>

</mapper>
